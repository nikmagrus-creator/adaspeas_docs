# ADR-003: Фиксация изменений, идей и решений (CHANGELOG/CHATLOG/ROADMAP/ADR)

Актуально на: 2026-02-06 12:45 MSK

- Status: Accepted
- Date (MSK): 2026-02-06 12:45 MSK
- Deciders: Nikolay + ChatGPT
- Technical Story: docs/WORKFLOW_CONTRACT_RU.md (раздел 4.2), docs/CHATLOG_RU.md (2026-02-06)

## Context

Проект ведётся с участием ассистента и в формате “пачками”. Без дисциплины фиксации результатов в репозитории возникают типовые поломки:

- после патча неясно, что именно менялось и почему;
- идеи/улучшения всплывают повторно, потому что их негде найти;
- новый чат/ИИ начинает “с нуля” и повторяет уже обсуждённое;
- документация и реальное состояние кода расходятся.

## Decision

Использовать 4 артефакта как “память проекта”:

1) `CHANGELOG.md` (Keep a Changelog): **все реализованные изменения поведения/инфры/кода** фиксируем в `## [Unreleased]`, а при релизе переносим в версию.
2) `docs/CHATLOG_RU.md`: **итоги сессий** (цель → что сделано → решения → какие документы обновлены → следующие шаги).
3) `docs/ROADMAP_RU.md`: **backlog идей** в таблице с ID вида `IDEA-###` и статусами (idea/planned/doing/done/dropped).
4) `docs/adr/`: **архитектурные решения** и смена инвариантов (отдельными ADR, либо обновлением статуса существующего).

Поддержка процессом:
- CI должен падать, если менялся код/инфра, но не обновлён `CHANGELOG.md` или `docs/CHATLOG_RU.md`.

## Consequences

Плюсы:
- меньше “амнезии” между чатами и релизами;
- быстрее разбор инцидентов (есть след: что меняли и когда);
- меньше конфликтов документации с кодом.

Минусы:
- каждый патч требует 2–3 коротких правок в доках (но это дешевле, чем помнить на словах).

## Links
- `docs/WORKFLOW_CONTRACT_RU.md` (раздел 4.2)
- `CHANGELOG.md`
- `docs/CHATLOG_RU.md`
- `docs/ROADMAP_RU.md`
