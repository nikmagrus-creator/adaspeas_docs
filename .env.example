# CI/Smoke
# When CI_SMOKE=1 the bot does NOT crash-loop if Telegram token is fake/unauthorized.
CI_SMOKE=1

# UID/GID приложения (Compose / права на /data)
# В проде bot/worker по умолчанию работают как 1000:1000 (пользователь app).
# Можно переопределить, если нужно (например, чтобы совпадало с владельцем данных в volume).
APP_UID=1000
APP_GID=1000

# Telegram
# Format must be digits:string (aiogram validates it). In CI we use a fake but well-formed token.
BOT_TOKEN=123456789:AABBCCDDEEFFaabbccddeeff1234567890
ADMIN_USER_IDS=

# Storage
# For CI smoke we use local storage to avoid external dependencies.
STORAGE_MODE=local  # yandex | local

# Yandex Disk (required when STORAGE_MODE=yandex)
YANDEX_OAUTH_TOKEN=
YANDEX_BASE_PATH=/Zkvpr

# Local storage (CI-safe path; always writable)
LOCAL_STORAGE_ROOT=/tmp/adaspeas_storage

# Database (CI-safe path; always writable)
SQLITE_PATH=/tmp/adaspeas_app.db

# Queue
REDIS_URL=redis://redis:6379/0

# Local Telegram Bot API Server (optional but required for files > 50MB)
# When USE_LOCAL_BOT_API=1 bot/worker will use LOCAL_BOT_API_BASE instead of api.telegram.org
USE_LOCAL_BOT_API=0
LOCAL_BOT_API_BASE=http://local-bot-api:8081

# Required to run local-bot-api service (get api_id/api_hash from https://my.telegram.org)
TELEGRAM_API_ID=
TELEGRAM_API_HASH=


# Observability
LOG_LEVEL=INFO

# --- prod (Caddy / HTTPS)
ACME_EMAIL=
# METRICS_PASS must be a Caddy basicauth hash (use: caddy hash-password --plaintext "..." )
METRICS_USER=metrics
METRICS_PASS=

# Image for prod compose (your workflow expects it in .env)
IMAGE=ghcr.io/nikmagrus-creator/adaspeas_docs:latest
